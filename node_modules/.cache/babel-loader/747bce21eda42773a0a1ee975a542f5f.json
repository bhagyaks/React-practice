{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\jojoj\\\\OneDrive\\\\Jojo\\\\Files\\\\Resume\\\\bhagya\\\\code\\\\veriff-assignment\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\jojoj\\\\OneDrive\\\\Jojo\\\\Files\\\\Resume\\\\bhagya\\\\code\\\\veriff-assignment\\\\src\\\\FetchCheck.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport \"./styles.css\";\nimport { fetchChecks, submitCheckResults } from \"./api\";\nimport \"./Button.css\";\nimport \"./FetchCheck.css\";\nimport Button from \"./Button\";\n\nvar FetchCheck = function FetchCheck(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      checks = _useState2[0],\n      setChecks = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isSubmitDisabled = _useState4[0],\n      disableSubmit = _useState4[1];\n\n  var results = [],\n      dataArray = [];\n  useEffect(function () {\n    fetchChecks().then(function (p) {\n      return setChecks(p);\n    });\n  }, []);\n\n  if (checks === null) {\n    return /*#__PURE__*/React.createElement(\"h2\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 16\n      }\n    }, \"Loading...\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }\n  }, checks.sort(function (a, b) {\n    return a.priority > b.priority ? 1 : -1;\n  }).map(function (check, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: check.id,\n      className: \"container \".concat(disableElement(check, index)),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"question\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 21\n      }\n    }, check.description), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab\",\n      value: \"\",\n      id: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"yes\",\n      tabIndex: \"-1\",\n      value: \"Yes\",\n      onClick: handleButton,\n      autoFocus: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 25\n      }\n    }, \"Yes\"), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"no\",\n      tabIndex: \"-1\",\n      value: \"No\",\n      onClick: handleButton,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 25\n      }\n    }, \"No\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 21\n      }\n    }));\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"submit_section\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    disabled: \"disabled\",\n    id: \"app_submit\",\n    onClick: submitData,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 45\n    }\n  }, \"Submit\")));\n\n  function disableElement(check, index) {\n    dataArray[index] = {\n      'id': index,\n      'checkId': check.id,\n      'value': null\n    };\n    return checks[0] === check ? false : \"disabled\";\n  }\n\n  function handleButton(event) {\n    event.target.parentNode.childNodes.forEach(function (e) {\n      e.classList.remove(\"active\");\n    });\n    event.target.classList.add(\"active\");\n\n    if (event.target) {\n      this.dataArray[Number(event.target.parentNode.id)].value = event.target.value;\n\n      if (event.target.value === \"Yes\") {\n        this.enableNextQuestion(Number(event.target.parentNode.id) + 1);\n      } else {\n        this.updateOnNo(Number(event.target.parentNode.id) + 1);\n      }\n    }\n  }\n\n  function submitData(e) {\n    e.preventDefault();\n    submitCheckResults(results).then(function () {// history.push(\"./success\");\n    }).catch(function () {\n      alert(\"Submission Failed!!!\");\n      window.location.reload();\n    });\n  }\n};\n\nexport default FetchCheck;","map":{"version":3,"sources":["C:/Users/jojoj/OneDrive/Jojo/Files/Resume/bhagya/code/veriff-assignment/src/FetchCheck.js"],"names":["React","useEffect","useState","useHistory","fetchChecks","submitCheckResults","Button","FetchCheck","props","checks","setChecks","isSubmitDisabled","disableSubmit","results","dataArray","then","p","sort","a","b","priority","map","check","index","id","disableElement","description","handleButton","submitData","event","target","parentNode","childNodes","forEach","e","classList","remove","add","Number","value","enableNextQuestion","updateOnNo","preventDefault","catch","alert","window","location","reload"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport \"./styles.css\";\r\nimport {fetchChecks, submitCheckResults} from \"./api\";\r\nimport \"./Button.css\";\r\nimport \"./FetchCheck.css\";\r\nimport Button from \"./Button\";\r\nconst FetchCheck = (props) => {\r\n    const [checks, setChecks] = useState(null);\r\n    const [isSubmitDisabled, disableSubmit] = useState(true);\r\n    let results = [], dataArray=[];\r\n    useEffect(() => {\r\n        fetchChecks().then(p => setChecks(p));\r\n    }, []);\r\n    if (checks === null) {\r\n        return <h2>Loading...</h2>;\r\n    }\r\n    return (\r\n        <div className=\"App\">\r\n            {checks.sort((a, b) => a.priority > b.priority ? 1 : -1).map((check, index) => (\r\n                <div  key={check.id}  className={`container ${disableElement(check, index)}`} >\r\n                    <div className=\"question\">{check.description}</div>\r\n                    <div className=\"tab\" value=\"\" id={index}>\r\n                        <button id=\"yes\" tabIndex=\"-1\"  value={\"Yes\"} onClick={handleButton} autoFocus={true}>Yes</button>\r\n                        <button id=\"no\" tabIndex=\"-1\"  value={\"No\"} onClick={handleButton}>No</button>\r\n                    </div>\r\n                    <br />\r\n                </div>\r\n            ))}\r\n            <br />\r\n            <div className=\"submit_section\"><Button disabled=\"disabled\" id=\"app_submit\" onClick={submitData}>Submit</Button></div>\r\n        </div>\r\n    );\r\n    function disableElement(check,index) {\r\n        dataArray[index]={'id': index,'checkId':check.id, 'value' : null};\r\n        return checks[0] === check ? false : \"disabled\"; \r\n    }\r\n    function handleButton(event) {\r\n        event.target.parentNode.childNodes.forEach(e => {\r\n            e.classList.remove(\"active\");\r\n        });\r\n        event.target.classList.add(\"active\");\r\n        if (event.target) {\r\n            this.dataArray[Number(event.target.parentNode.id)].value = event.target.value;\r\n            if (event.target.value === \"Yes\") {\r\n                this.enableNextQuestion(Number(event.target.parentNode.id) + 1);\r\n            }\r\n            else {\r\n                this.updateOnNo(Number(event.target.parentNode.id) + 1);\r\n            }\r\n        }\r\n    }\r\n    function submitData(e) {\r\n        e.preventDefault();\r\n        submitCheckResults(results).then(() => {\r\n           // history.push(\"./success\");\r\n        }).catch(() => {\r\n            alert(\"Submission Failed!!!\");\r\n            window.location.reload();\r\n        });\r\n    }\r\n}\r\n  export default FetchCheck;"]},"metadata":{},"sourceType":"module"}